const i=new Proxy({dark:!1,appearance:"system",storage:"ObsidianUI.appearance",init(){this.dark=this.checkAppearanceClass(),this.appearance=this.getAppearanceStorage()},checkAppearanceClass(){return document.documentElement.classList.contains("dark")},getAppearance(){return this.appearance},getAppearanceMode(){return this.dark?"dark":"light"},getAppearanceStorage(){return window.localStorage.getItem(this.storage)||"system"},setAppearance(e){let a=this.appearance!=e;this.appearance=e,e==="dark"&&this.setDark(!0),e==="light"&&this.setDark(!1),e==="system"&&this.setAppearanceSystem(),a&&this.setGenerateEvent()},setAppearanceSystem(){window.matchMedia("(prefers-color-scheme: dark)").matches?this.setDark(!0):this.setDark(!1),window.localStorage.removeItem(this.storage)},setDark(e){let a=this.dark!=e;this.dark=e,document.documentElement.classList.toggle("dark",e),window.localStorage.setItem(this.storage,this.getAppearanceMode()),a&&this.setGenerateEvent()},setGenerateEvent(){window.dispatchEvent(new CustomEvent("obsidianui:appearance",{detail:{theme:this.getAppearanceMode(),appearance:this.getAppearance()}}))}},{get(e,a){return typeof e[a]=="function"?e[a].bind(e):e[a]},set(e,a,t){return a==="dark"&&e.setDark(t),a==="appearance"&&e.setAppearance(t),!0}});window.ObsidianUI=i;window.ObsidianUI.init();document.addEventListener("livewire:navigated",()=>{var e;(e=window.ObsidianUIAppearance)!=null&&e.initAppearance&&window.ObsidianUIAppearance.initAppearance()});window.addEventListener("obsidianui:appearance",function(e){const{theme:a,appearance:t}=e.detail});window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{var a;(a=window.ObsidianUIAppearance)!=null&&a.initAppearance&&window.ObsidianUI.getAppearanceStorage()=="system"&&window.ObsidianUI.setAppearance("system"),window.ObsidianUI.init()});Alpine.magic("obsidianui",()=>window.ObsidianUI);
