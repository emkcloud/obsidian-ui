const t=new Proxy({dark:!1,appearance:"system",storage:"ObsidianUI.appearance",init(){this.dark=this.checkAppearanceClass(),this.appearance=this.getAppearanceStorage()},checkAppearanceClass(){return document.documentElement.classList.contains("dark")},getAppearanceStorage(){return window.localStorage.getItem(this.storage)||"system"},setAppearance(e){this.appearance=e,e==="dark"&&this.setDark(!0),e==="light"&&this.setDark(!1),e==="system"&&this.setAppearanceSystem()},setAppearanceSystem(){window.matchMedia("(prefers-color-scheme: dark)").matches?this.setDark(!0):this.setDark(!1),window.localStorage.removeItem(this.storage)},setDark(e){this.dark=e,document.documentElement.classList.toggle("dark",e),window.localStorage.setItem(this.storage,this.dark?"dark":"light")}},{get(e,a){return typeof e[a]=="function"?e[a].bind(e):e[a]},set(e,a,i){return a==="dark"&&e.setDark(i),a==="appearance"&&e.setAppearance(i),!0}});window.ObsidianUI=t;window.ObsidianUI.init();document.addEventListener("livewire:navigated",()=>{var e;(e=window.ObsidianUIAppearance)!=null&&e.initAppearance&&window.ObsidianUIAppearance.initAppearance()});window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{var a;(a=window.ObsidianUIAppearance)!=null&&a.initAppearance&&window.ObsidianUI.getAppearanceStorage()=="system"&&window.ObsidianUI.setAppearance("system")});Alpine.magic("obsidianui",()=>window.ObsidianUI);
